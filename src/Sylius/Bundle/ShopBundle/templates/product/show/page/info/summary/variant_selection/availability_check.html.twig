{% set product = hookable_metadata.context.product %}

{% if product.enabledVariants.empty() or product.simple and not sylius_inventory_is_available(product.enabledVariants.first) %}
    <div {{ sylius_test_html_attribute('product-out-of-stock') }}>{{ 'sylius.ui.out_of_stock'|trans }}</div>
{% else %}
    {{ component('sylius_shop:product:add_to_cart_form', { product: product }) }}
{% endif %}
