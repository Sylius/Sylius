{% set form = sylius_cart_form({'product': product}) %}

{% form_theme form 'SyliusUiBundle:Form:theme.html.twig' %}

{{ form_start(form, {'action': path('sylius_shop_cart_item_add', {'id': product.id, '_error_redirect_to': path('sylius_shop_product_show', {'slug': product.slug})}), 'attr': {'class': 'ui loadable form', 'novalidate': 'novalidate'}}) }}
{% if not product.simple %}
    {% if product.variantSelectionMethodChoice %}
        {% include '@SyliusShop/Product/Show/_variants.html.twig' %}
    {% else %}
        {% include '@SyliusShop/Product/Show/_options.html.twig' %}
    {% endif %}
{% endif %}
{{ form_row(form.quantity) }}
<button type="submit" class="ui huge primary icon labeled button"><i class="cart icon"></i> {{ 'sylius.ui.add_to_cart'|trans }}</button>
{{ form_row(form._token) }}
{{ form_end(form, {'render_rest': false}) }}
