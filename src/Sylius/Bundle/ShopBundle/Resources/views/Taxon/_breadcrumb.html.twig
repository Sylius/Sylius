{% from '@SyliusShop/Common/Macro/breadcrumb.html.twig' import breadcrumb %}
{% set ancestors = taxon.ancestors|reverse %}
{% set crumbs = [] %}
{% for ancestor in ancestors %}
    {% if not ancestor.isRoot() and ancestor.enabled %}
        {% set crumbs = crumbs|merge([{
            url: path('sylius_shop_product_index', {'slug': ancestor.slug, '_locale': ancestor.translation.locale}),
            name: ancestor.name
        }]) %}
    {% endif %}
{% endfor %}
{% set crumbs = crumbs|merge([{
    name: taxon.name
}]) %}
{{ breadcrumb(crumbs) }}
