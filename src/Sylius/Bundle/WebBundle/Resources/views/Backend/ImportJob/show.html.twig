{% extends 'SyliusWebBundle:Backend:layout.html.twig' %}

{% import 'SyliusResourceBundle:Macros:buttons.html.twig' as buttons %}

{% block topbar %}
<ol class="breadcrumb">
    <li>{{ 'sylius.breadcrumb.configuration'|trans }}</li>
    <li><a href="{{ path('sylius_backend_import_profile_index') }}">{{ 'sylius.breadcrumb.import_profile.index'|trans }}</a></li>
    <li><a href="{{ path('sylius_backend_import_profile_show', { id: import_job.profile.id } ) }}">{{ import_job.profile.id }}</a></li>
    <li><a href="{{ path('sylius_backend_import_job_index', { profileId: import_job.profile.id  }) }}">{{ 'sylius.import_job.index_header'|trans }}</a></li>
    <li>{{ import_job.id }}</a></li>
</ol>
{% endblock %}

{% block content %}
    <div class="page-header">
        <div class="actions-menu">
            {{ buttons.manage(path('sylius_backend_import_job_index', { profileId: import_job.profile.id } ), 'sylius.import_job.manage'|trans) }}
            {{ buttons.edit(path('sylius_backend_import_profile_show', { id: import_job.profile.id } ), 'sylius.import_profile.show'|trans) }}
        </div>
        <h1><i class="glyphicon glyphicon-cog"></i>{{ 'sylius.import_job.header'|trans }} {{ import_job.id }}</h1>
    </div>

    {% if import_job|length > 0 %}
    <div class="row">
        <div class="col-xs-12">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th colspan="2">{{ 'sylius.import_job.general_info'|trans }}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ 'sylius.import_job.import_profile'|trans }}</td>
                        <td>{{ import_job.profile.id }}</td>
                    </tr>
                    <tr>
                        <td>{{ 'sylius.import_job.status'|trans }}</td>
                        <td>{{ import_job.status }}</td>
                    </tr>
                    <tr>
                        <td>{{ 'sylius.import_job.start_time'|trans }}</td>
                        <td>{{ import_job.startTime|date }}</td>
                    </tr>
                    <tr>
                        <td>{{ 'sylius.import_job.end_time'|trans }}</td>
                        <td>{{ import_job.endTime|date }}</td>
                    </tr>
                    <tr>
                        <td>{{ 'sylius.import_job.created_at'|trans }}</td>
                        <td>{{ import_job.createdAt|date }}</td>
                    </tr>
                    <tr>
                        <td>{{ 'sylius.import_job.updated_at'|trans }}</td>
                        <td>{{ import_job.updatedAt|date }}</td>
                    </tr>
                    <tr>
                        <td>{{ 'sylius.import_job.metadata'|trans }}</td>
                        <td>
                            {% for key,item in import_job.metadata  %}
                                {{ key }} => {{ item }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    {% else %}
    {{ alerts.info('sylius.import_profile.no_results'|trans) }}
    {% endif %}
{% endblock %}