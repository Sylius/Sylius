{% for attributeId, form in forms %}
    <div class="attribute" data-id="{{ attributeId }}">
        {% if 'type_checkbox' in form.vars.cache_key %}\
            <div class="ui toggle checkbox" style="margin-top: 15px; margin-bottom: 15px;">
                {{ _self.formField(form, loop.index0) }}
                <label>{{ form.vars.label }}</label>
            </div>
            <button class="ui red right labeled icon button" style="float: right;">
                <i class="remove icon"></i> {{ 'sylius.ui.delete'|trans }}
            </button>
        {% else %}
            <div class="ui right fluid labeled input" style="margin-top: 15px; margin-bottom: 15px;">
                <div class="ui label">{{ form.vars.label }}</div>
                {{ _self.formField(form, loop.index0) }}
                <button class="ui red right labeled icon button">
                    <i class="remove icon"></i> {{ 'sylius.ui.delete'|trans }}
                </button>
            </div>
        {% endif %}

        <input type="hidden"
               name="sylius_product[attributes][{{ loop.index0 }}][attribute]"
               id="sylius_product_attributes_{{ loop.index0 }}_attribute"
               value="{{ attributeId }}" />
    </div>
{% endfor %}

{% macro formField(item, count) %}
    {{ form_widget(item, {'id': item.vars.label|replace(' ', '_')|lower, 'attr': {'data-name': 'sylius_product[attributes]['~count~']['~item.vars.name~']'}}) }}
{% endmacro %}
