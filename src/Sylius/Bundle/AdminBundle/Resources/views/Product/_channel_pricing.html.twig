<div class="ui segment">
    {{ form_row(variantForm.showDisabledChannels) }}
</div>
<div id="sylius_product_variant_channelPricings">
    {{ form_errors(variantForm.channelPricings) }}
    <div class="ui top attached tabular menu">
        {% for channelCode, channelPricing in variantForm.channelPricings %}
            {% set disabledChannelPricing = channelCode not in product.channels|map(channel => channel.code) %}
            {% set firstTab = (loop.index0 == 0) %}
{#            <a class="item{{ firstTab ? ' active' : '' }}" data-tab="{{ channelCode }}">{{ channelPricing.vars.label }}</a>#}
            <a class="item{{ firstTab ? ' active' : '' }}"{{ disabledChannelPricing ? ' data-disabled-channel-pricing' : '' }} data-tab="{{ channelCode }}">{{ channelPricing.vars.label }}</a>
        {% endfor %}
    </div>
    {% for channelCode, channelPricing in variantForm.channelPricings %}
        {% set disabledChannelPricing = channelCode not in product.channels|map(channel => channel.code) %}
        {% set firstTab = (loop.index0 == 0) %}
{#        <div class="ui bottom attached tab segment{{ firstTab ? ' active' : '' }}" data-tab="{{ channelCode }}">#}
        <div class="ui bottom attached tab segment{{ firstTab ? ' active' : '' }}"{{ disabledChannelPricing ? ' data-disabled-channel-pricing' : '' }} data-tab="{{ channelCode }}">

        {% if channelCode not in product.channels|map(channel => channel.code) %}
        <div class="ui info message">
            {{ 'sylius.ui.product.product_not_active_in_channel'|trans }}
        </div>
        {% endif %}
            {{ form_row(channelPricing, {'label': false}) }}
        </div>
    {% endfor %}
</div>
