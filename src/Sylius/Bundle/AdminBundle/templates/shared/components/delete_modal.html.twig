{% import '@SyliusAdmin/shared/helper/button.html.twig' as button %}
{% props id = null, path = null, trigger_text = 'sylius.ui.delete', trigger_icon = 'trash-x', form_attr = null %}

<div>
    {% block trigger %}
        <div data-bs-toggle="tooltip" data-bs-title="{{ trigger_text|trans }}">
            {{ button.default({icon: trigger_icon, icon_class: 'icon icon-tabler text-danger', icon_only: true, attr: 'data-bs-toggle=modal data-bs-target=#modal-' ~ id }) }}
        </div>
    {% endblock %}

    <div class="modal fade" id="modal-{{ id }}" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            {% block content %}
                <form action="{{ path }}" method="post" {{ form_attr }}>
                    <input type="hidden" name="_method" value="DELETE">
                    <input type="hidden" name="_csrf_token" value="{{ csrf_token(id) }}" />
                    <div class="modal-content">
                        <div class="modal-header">
                            {% block header %}
                                <h1 class="modal-title py-5">{{ 'sylius.ui.are_your_sure_you_want_to_perform_this_action'|trans }}</h1>
                            {% endblock %}
                        </div>
                        <div class="modal-footer">
                            {{ button.default({ text: 'sylius.ui.cancel'|trans, attr: 'data-bs-dismiss=modal' }) }}
                            {{ button.default({ text: 'sylius.ui.delete'|trans, type: 'submit', class: 'btn-danger', attr: sylius_test_html_attribute('confirm-delete-button') }) }}
                        </div>
                    </div>
                </form>
            {% endblock %}
        </div>
    </div>
</div>
