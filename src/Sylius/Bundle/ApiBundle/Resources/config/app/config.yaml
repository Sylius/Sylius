# This file is part of the Sylius package.
# (c) Paweł Jędrzejewski

api_platform:
    patch_formats:
        json: ['application/merge-patch+json']
    path_segment_name_generator: api_platform.path_segment_name_generator.dash
    swagger:
        versions: [3]
        api_keys:
            apiKey:
                name: Authorization
                type: header
    exception_to_status:
        SM\SMException: 422
        Sylius\Bundle\ApiBundle\Exception\CannotRemoveCurrentlyLoggedInUser: 422
        Sylius\Bundle\ApiBundle\Exception\ShippingMethodCannotBeRemoved: 422
# Configurations for Swagger still doesn't work properly
    oauth:
        enabled: true
        clientId: '5sxomk2lm680w80w00s0kssc4so4cccg0ksokks4csc88skgo0'
        clientSecret: '3h14yv3xn8mcwow4480wkgcow0wcc4gsscccg4ckwkws8gc4os'
        type: 'oauth2'
        flow: 'password'
        tokenUrl: '/api/oauth/v2/token'
        authorizationUrl: '/api/oauth/v2/auth'
        scopes: [api_access]
        
fos_oauth_server:
    service:
        options:
            supported_scopes: api_access

framework:
    messenger:
        buses:
            sylius_default.bus:
                middleware:
                    - 'validation'
                    - 'doctrine_transaction'
