{% macro locale(code) %}
    {% from '@SyliusShop/shared/macro/flags.html.twig' import flag %}

    {% set country_code = code|sylius_locale_country|default(code) %}
    {% if country_code == '001' %}
        {% set split_code = code|split('_') %}
        {{ flag(split_code[1]) }}
        {{ split_code[0]|upper }} {{ 'sylius.ui.world'|trans }}
    {% else %}
        {{ flag(country_code) }}
        {{ country_code|upper }}
    {% endif %}
{% endmacro %}
